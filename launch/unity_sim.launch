<launch>
    <arg name="q_imu_auv_w" default="0.0" />
	<arg name="q_imu_auv_x" default="1.0" />
	<arg name="q_imu_auv_y" default="0.0" />
	<arg name="q_imu_auv_z" default="0.0" />

	<arg name="q_dvl_auv_w" default="1.0" />
	<arg name="q_dvl_auv_x" default="0.0" />
	<arg name="q_dvl_auv_y" default="0.0" />
	<arg name="q_dvl_auv_z" default="0.0" />

	<arg name="auv_dvl_offset_x" default="0.0" />
	<arg name="auv_dvl_offset_y" default="0.0" />
	<arg name="auv_dvl_offset_z" default="-0." />
    <arg name="vision" default="true" />

    <include file="$(find bringup)/launch/bringup.launch">
        <arg name="sim" value="true" />
        <arg name="q_imu_auv_w" value="$(arg q_imu_auv_w)" />
        <arg name="q_imu_auv_x" value="$(arg q_imu_auv_x)" />
        <arg name="q_imu_auv_y" value="$(arg q_imu_auv_y)" />
        <arg name="q_imu_auv_z" value="$(arg q_imu_auv_z)" />

        <arg name="q_dvl_auv_w" value="$(arg q_dvl_auv_w)" />
        <arg name="q_dvl_auv_x" value="$(arg q_dvl_auv_x)" />
        <arg name="q_dvl_auv_y" value="$(arg q_dvl_auv_y)" />
        <arg name="q_dvl_auv_z" value="$(arg q_dvl_auv_z)" />

        <arg name="auv_dvl_offset_x" value="$(arg auv_dvl_offset_x)" />
        <arg name="auv_dvl_offset_y" value="$(arg auv_dvl_offset_y)" />
        <arg name="auv_dvl_offset_z" value="$(arg auv_dvl_offset_z)" />
        <arg name="vision" value="$(arg vision)" />
    </include>

    <param name="sim" value="true" />

    <include file="$(find ros_tcp_endpoint)/launch/endpoint.launch"></include>
    <node name="unity_bridge" pkg="auv-sim-unity" type="unity_bridge.py" output="screen">
		<param name="q_imu_auv_w" value="$(arg q_imu_auv_w)" />
		<param name="q_imu_auv_x" value="$(arg q_imu_auv_x)" />
		<param name="q_imu_auv_y" value="$(arg q_imu_auv_y)" />
		<param name="q_imu_auv_z" value="$(arg q_imu_auv_z)" />

		<param name="q_dvl_auv_w" value="$(arg q_dvl_auv_w)" />
		<param name="q_dvl_auv_x" value="$(arg q_dvl_auv_x)" />
		<param name="q_dvl_auv_y" value="$(arg q_dvl_auv_y)" />
		<param name="q_dvl_auv_z" value="$(arg q_dvl_auv_z)" />

		<param name="auv_dvl_offset_x" value="$(arg auv_dvl_offset_x)" />
		<param name="auv_dvl_offset_y" value="$(arg auv_dvl_offset_y)" />
		<param name="auv_dvl_offset_z" value="$(arg auv_dvl_offset_z)" />
    </node> 

</launch>